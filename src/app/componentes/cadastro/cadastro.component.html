<section class="auth-container">
  <div class="auth-card">
    <h2>Crie sua conta</h2>
    <p class="subtitulo">Preencha os dados para se cadastrar</p>

    <form [formGroup]="form" (ngSubmit)="criarUser()">


      <!-- Nome -->
      <label>Nome</label>
      <input type="text" formControlName="name" placeholder="Seu nome completo" ngConsoleLog="user.nome"/>
      <p class="erro" *ngIf="form.get('name')?.touched && form.get('name')?.invalid">
        Nome obrigatÃ³rio (mÃ­n. 3 caracteres)
      </p>

      <!-- Email -->
      <label>Email</label>
      <input type="email" formControlName="email" placeholder="seu@email.com" ngConsoleLog="user.email"/>
      <p class="erro" *ngIf="form.get('email')?.touched && form.get('email')?.invalid">
        Email invÃ¡lido
      </p>

      <!-- Senha -->
      <label>Senha</label>
      <div class="input-password">
        <input
          [type]="showPassword ? 'text' : 'password'" formControlName="password"
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
          ngConsoleLog="user.password"
        />
        <button type="showPassword  ? 'text' : 'confirPassword'" (click)="togglePassword()">ğŸ‘ï¸</button>
      </div>

      <!-- ForÃ§a da senha -->
      <div class="strength" *ngIf="password">
        <div class="bars">
          <span *ngFor="let bar of [0,1,2,3]; let i = index"
                [class.active]="i < passwordStrength"></span>
        </div>
        <small>{{ strengthLabels[passwordStrength] }}</small>
      </div>

      <!-- Confirmar senha -->
      <label>Confirmar senha</label>
      <div class="input-password">
        <mat-form-field><input
          [type]="showConfirmPassword ? 'text' : 'password'"
          formControlName="confirmPassword"
          placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
        />
        <mat-error *ngIf="form.get('confirmPassword')?.hasError('required')">
          ConfirmaÃ§Ã£o de senha Ã© obrigatÃ³ria
        </mat-error>

        <mat-error *ngIf="form.hasError('mismatch') && form.get('confirmPassword')?.touched">
          As senhas nÃ£o coincidem
        </mat-error></mat-form-field>

        <button type="button" (click)="toggleConfirmPassword()">ğŸ‘ï¸</button>
      </div>

      <p class="erro" *ngIf="form.get('confirmPassword')?.errors?.['mismatch']">
        As senhas nÃ£o coincidem
      </p>

      <!-- BotÃ£o -->

      <button>Cadastrar</button>


      <p class="rodape">
        JÃ¡ tem uma conta? <a routerLink="/login">Entrar</a>
      </p>
    </form>
  </div>
</section>
